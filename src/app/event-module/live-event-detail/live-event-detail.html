<ion-content fullscreen="true">
  <div class="event-detail-wrapper">
    <div class="flex-grow">
      <main class="space-y-6 pb-40">
        <!-- Hero section with background image and overlay -->
        <div class="hero-section" [style.background-image]="'url(' + (event?.imageUrl || 'https://lh3.googleusercontent.com/aida-public/AB6AXuA5TVjp7f7bfDbKQzyrsun_ZVgyYZxV5wzcPJqVJtnJ6dr15UnSijsKIteGa5LtLxa-PDiVenjwBEOAg2znpUUi2kqMegV6In220eH5phGF-MUkf4AdC5x_g7twHhOks1mQHA3uJynt5qcViT7-ybXPDhFzS6l2lzJ7GNL_FExXQaVHpZLoTSPQFnhMUTu9kKhVNpypOtXupN22hDWl6ntJoYsSX8EIb0BpFZoeCqJHiKZ8ibZlVOx-6Ja6i0Z5BG8yXBrRy9G6KOs') + ')'">
          <div class="hero-overlay"></div>

          <!-- Event info card moved inside hero section -->
          <div class="event-info-card-hero">
            <h1 class="event-title">{{ event?.title || 'Indie Rock Night' }}</h1>
            
            <!-- Added Statistiche Live button -->
            <button class="stats-live-btn" (click)="openStatsOverlay()">
              <ion-icon name="bar-chart-outline"></ion-icon>
              <span class="live-pulse"></span>
              <span>Statistiche Live</span>
            </button>

            <div class="event-meta-grid">
              <div class="meta-item">
                <ion-icon name="calendar-outline" class="meta-icon"></ion-icon>
                <span class="meta-label">Date</span>
                <p class="meta-value">{{ event?.date ? (event?.date | date:'EEE MMM d, y') : 'Tue Oct 28, 2025' }}</p>
              </div>
              <div class="meta-item meta-item-border">
                <ion-icon name="time-outline" class="meta-icon"></ion-icon>
                <span class="meta-label">Time</span>
                <p class="meta-value">{{ event?.time || '19:20' }}</p>
              </div>
              <div class="meta-item">
                <ion-icon name="location-outline" class="meta-icon"></ion-icon>
                <span class="meta-label">Venue</span>
                <p class="meta-value">{{ event?.location || 'The Fillmore' }}</p>
              </div>
            </div>
          </div>
        </div>

        <div class="content-padding">
          <!-- Added event description section -->
          <div class="event-description">
            <h2 class="description-title">Descrizione Evento</h2>
            <p class="description-text">
              Immergiti in una notte di pura energia indie rock. Goditi le performance live di talenti emergenti, seguiti da DJ set che ti faranno ballare fino all'alba. Un'esperienza musicale unica in una location iconica.
            </p>
          </div>

          <!-- Added scrollable pills section -->
          <div class="pills-container">
            <div class="pills-scroll">
              <button 
                class="pill" 
                [class.pill-active]="activePill === 'music'"
                (click)="onPillClick('music')">
                Musica
              </button>
              <button 
                class="pill" 
                [class.pill-active]="activePill === 'food'"
                (click)="onPillClick('food')">
                Food
              </button>
              <button 
                class="pill" 
                [class.pill-active]="activePill === 'location'"
                (click)="onPillClick('location')">
                Location
              </button>
              <button 
                class="pill" 
                [class.pill-active]="activePill === 'tickets'"
                (click)="onPillClick('tickets')">
                Biglietti
              </button>
            </div>
          </div>

          <!-- Added id attributes to card sections for scroll targeting -->
          <div class="cards-section">
            <div id="music-section">
              <app-music-card 
                [data]="musicData" 
                [isHighlighted]="highlightedCard === 'music'">
              </app-music-card>
            </div>

            <div id="food-section">
              <app-food-card 
                [data]="foodData" 
                [isHighlighted]="highlightedCard === 'food'">
              </app-food-card>
            </div>

            <div id="location-section">
              <app-location-card 
                [data]="locationData" 
                [isHighlighted]="highlightedCard === 'location'">
              </app-location-card>
            </div>

            <!-- Added placeholder for tickets section -->
            <div id="tickets-section" class="tickets-placeholder">
              <p>Sezione biglietti in arrivo...</p>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Fixed footer with chat button and action buttons -->
    <footer class="fixed-footer">
      <div class="footer-actions">
        <div class="action-buttons">
          <button class="check-in-btn" (click)="onCheckIn()">
            <span>Check-in</span>
          </button>
          <button class="check-out-btn" (click)="onCheckOut()">
            <span>Check-out</span>
          </button>
        </div>
      </div>
    </footer>

    <!-- Removed stats overlay modal as requested -->
  </div>
</ion-content>
