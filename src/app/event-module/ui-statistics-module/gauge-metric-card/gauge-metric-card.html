<div class="gauge-card">
  <div class="card-header">
    <div class="title-section">
      <ion-icon [name]="data.icon" class="title-icon"></ion-icon>
      <span class="title-text">{{ data.title }}</span>
    </div>
  </div>

  <div class="gauge-container">
    <!-- Gauge Background Arc -->
    <div class="gauge-wrapper">
      <div 
        class="gauge-bg-arc" 
        [style.background]="getGaugeGradient()"
        [style.filter]="'drop-shadow(0 0 5px ' + getGaugeColor() + ')'">
      </div>
      
      <!-- Inner mask to create hollow effect -->
      <div class="gauge-mask"></div>
      
      <!-- Tick marks -->
      <div class="gauge-ticks">
        @for (tick of ticks; let i = $index; track $index) {
          <div 
            class="tick"
            [class.major-tick]="i === 5"
            [style.transform]="'translateX(-50%) rotate(' + tick + 'deg) translateY(0px)'">
          </div>
        }
      </div>
      
      <!-- Needle indicator -->
      <div 
        class="gauge-needle"
        [style.transform]="'rotate(' + needleRotation + 'deg)'">
        <div class="needle-line"></div>
      </div>
    </div>

    <!-- Center value display -->
    <div class="gauge-value">
      <span class="value-number">{{ data.value }}</span>
      <span class="value-unit">{{ data.unit }}</span>
    </div>
  </div>

  <!-- Statistics section -->
  <div class="stats-section" *ngIf="data.p50 !== undefined || data.p95 !== undefined">
    <div class="stat-item" *ngIf="data.p50 !== undefined">
      <span class="stat-label">p50</span>
      <span class="stat-value">{{ data.p50 }} {{ data.p50Unit || data.unit }}</span>
    </div>
    <div class="stat-item" *ngIf="data.p95 !== undefined">
      <span class="stat-label">p95</span>
      <span class="stat-value">{{ data.p95 }} {{ data.p95Unit || data.unit }}</span>
    </div>
  </div>
</div>
